# ุณุงูุงูู ุญุถูุฑ ู ุบุงุจ ุฏุงูุดฺฏุงู - ุจุฎุด ุจฺฉโุงูุฏ (Backend)

<p align="center">
  <img src="https://img.shields.io/badge/Node.js-24.x-339933.svg?style=for-the-badge&logo=node.js" alt="Node.js Version">
  <img src="https://img.shields.io/badge/Express.js-4.x-000000.svg?style=for-the-badge&logo=express" alt="Express.js">
  <img src="https://img.shields.io/badge/MongoDB-8.x-47A248.svg?style=for-the-badge&logo=mongodb" alt="MongoDB">
  <img src="https://img.shields.io/badge/JWT-Auth-d63aff.svg?style=for-the-badge&logo=json-web-tokens" alt="JWT Auth">
</p>

ุงู ุฑูพุงุฒุชูุฑ ุดุงูู ฺฉุฏ ฺฉุงูู ุจฺฉโุงูุฏ ุจุฑุง **ุณุงูุงูู ููุดููุฏ ุญุถูุฑ ู ุบุงุจ ุฏุงูุดฺฏุงู** ุงุณุช. ุงู ุณุฑูุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ Node.js ู ูุฑูโูุฑฺฉ Express ุณุงุฎุชู ุดุฏู ู ูุณุฆููุช ูุฏุฑุช ุชูุงู ููุทูโูุง ฺฉุณุจโูฺฉุงุฑุ ุงุญุฑุงุฒ ููุชุ ุฏุณุชุฑุณโูุงุ ู ุชุนุงูู ุจุง ุฏุชุงุจุณ MongoDB ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ.

## โจ ุงูฺฉุงูุงุช ู ูฺฺฏโูุง ฺฉูุฏ

ุงู ุจฺฉโุงูุฏ ูุฌููุนูโุง ฺฉุงูู ุงุฒ API ูุง RESTful ุฑุง ุจุฑุง ูพุดุชุจุงู ุงุฒ ฺฉ ุณุงูุงูู ุฌุงูุน ูุฑุงูู ูโฺฉูุฏ:

### ๐จโ๐ป ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุฏุณุชุฑุณโูุง
- **ุณุณุชู ุงุญุฑุงุฒ ููุช ุงูู:** ูุจุชู ุจุฑ `JWT` ุจุง ุงุณุชูุงุฏู ุงุฒ `accessToken` (ฺฉูุชุงูโูุฏุช) ู `refreshToken` (ุจููุฏูุฏุช) ฺฉู ุฏุฑ ฺฉูฺฉโูุง `HttpOnly` ุฐุฎุฑู ูโุดููุฏ.
- **ฺฉูุชุฑู ุฏุณุชุฑุณ ูุจุชู ุจุฑ ููุด (RBAC):** ุชูฺฉฺฉ ฺฉุงูู ุฏุณุชุฑุณโูุง ุจุฑุง ููุดโูุง **ูุฏุฑ (Admin)**ุ **ูุณุฆูู (Officer)** ู **ฺฉุงุฑุจุฑุงู ุนุงุฏ (Faculty/Staff)**.
- **ูุฏุฑุช ฺฉุงูู ฺฉุงุฑุจุฑุงู:** ูุฏุฑุงู ูโุชูุงููุฏ ฺฉุงุฑุจุฑุงู ุฌุฏุฏ ุงุฌุงุฏ ฺฉุฑุฏูุ ุงุทูุงุนุงุช ุขูโูุง ุฑุง ูุฑุงุด ู ุญุณุงุจโูุง ฺฉุงุฑุจุฑ ุฑุง ูุนุงู ุง ุบุฑูุนุงู ฺฉููุฏ.
- **ูพุฑููุงู ุดุฎุต:** ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ุงุทูุงุนุงุช ุดุฎุต ู ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุฑุงุด ฺฉููุฏ.

### ๐ ูุฏุฑุช ุญุถูุฑ ู ุบุงุจ
- **ุซุจุช ูุฑูุฏ ู ุฎุฑูุฌ:** ูุณุฆููู ูโุชูุงููุฏ ุชุฑุฏุฏ ฺฉุงุฑุจุฑุงู ุฑุง ุซุจุช ฺฉููุฏ.
- **ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ูุถุนุช:** ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุถุนุช **"ุญุงุถุฑ"**ุ **"ุชุงุฎุฑ"** ู **"ุบุงุจ"** ุจุฑ ุงุณุงุณ ุชูุธูุงุช ุณุณุชู.
- **ูุฑุงุด ููุดููุฏ:** ูุฏุฑุงู ุฏุณุชุฑุณ ฺฉุงูู ุจู ูุฑุงุด ุฑฺฉูุฑุฏูุง ุฏุงุฑูุฏุ ุฏุฑ ุญุงู ฺฉู ูุณุฆููู ููุท ุชุง ุฒูุงู ูุญุฏูุฏ ูโุชูุงููุฏ ุฑฺฉูุฑุฏูุง ุฎูุฏ ุฑุง ูุฑุงุด ฺฉููุฏ.
- **ุชุงุฑุฎฺู ูุฑุงุด (Audit Trail):** ุชูุงู ุชุบุฑุงุช ุฑู ฺฉ ุฑฺฉูุฑุฏ ุฏุฑ ููุฏ `editHistory` ุจุฑุง ุญุณุงุจุฑุณ ุฐุฎุฑู ูโุดูุฏ.

### ๐ ฺฏุฒุงุฑุดโฺฏุฑ ู ุฏุงุดุจูุฑุฏ
- **ุฏุงุดุจูุฑุฏ ูุฏุฑุช ุฌุงูุน:** ุงุฑุงุฆู ุขูุงุฑ ูุญุธูโุง (KPIs)ุ ูููุฏุงุฑ ุฑููุฏ ุญุถูุฑุ ู ููุงุณู ุนููฺฉุฑุฏ ูุงุญุฏูุง.
- **ฺฏุฒุงุฑุดโฺฏุฑ ูพุดุฑูุชู:** API ูุฏุฑุชููุฏ ุจุฑุง ููุชุฑ ฺฉุฑุฏู ฺฏุฒุงุฑุดุงุช ุจุฑ ุงุณุงุณ ุจุงุฒู ุฒูุงูุ ฺฉุงุฑุจุฑุ ูุงุญุฏุ ููุด ู ูุถุนุช.
- **ุฎุฑูุฌ Excel:** ูุงุจูุช ุฏุงูููุฏ ุชูุงู ฺฏุฒุงุฑุดุงุช ููุชุฑ ุดุฏู ุจู ุตูุฑุช ูุงู `.xlsx`.

### โ๏ธ ุชูุธูุงุช ูพูุง ุณุงูุงูู
- **ูุฏุฑุช ฺฉุงูู ุชูุธูุงุช:** ูุฏุฑุงู ูโุชูุงููุฏ ุชูุธูุงุช ฺฉูุฏ ุณุงูุงูู ูุงููุฏ ูุงู ุฏุงูุดฺฏุงูุ ููฺฏูุ ุณุงุนุงุช ฺฉุงุฑุ ุขุณุชุงูู ุชุงุฎุฑ ู ุฑูุฒูุง ฺฉุงุฑ ุฑุง ุงุฒ ุทุฑู API ูุฏุฑุช ฺฉููุฏ.
- **ุจุงุฑฺฏุฐุงุฑ ุฏุฑ ุญุงูุธู:** ุชูุธูุงุช ุฏุฑ ุญุงูุธู ฺฉุด ูโุดููุฏ ุชุง ุงุฒ ฺฉูุฆุฑโูุง ุชฺฉุฑุงุฑ ุจู ุฏุชุงุจุณ ุฌููฺฏุฑ ุดูุฏ.

### ๐ง ููุด ูุตููุน ู ุงุฏฺฏุฑ ูุงุดู (Python)
- **ุฎูุดูโุจูุฏ ุฑูุชุงุฑ (Clustering):** ุชูุณูโุจูุฏ ุฎูุฏฺฉุงุฑ ฺฉุงุฑุจุฑุงู ุจู ฺฏุฑููโูุง ุฑูุชุงุฑ (ููุธูุ ุดูุงูุฑุ ูุงุฒููุฏ ุชูุฌู).
- **ุดูุงุณุง ูุงููุฌุงุฑ (Anomaly Detection):** ุชุดุฎุต ุฎูุฏฺฉุงุฑ ุฑฺฉูุฑุฏูุง ุชุฑุฏุฏ ุบุฑุนุงุฏ ู ูุดฺฉูฺฉ.
- **ฺฉูพุงุฑฺูโุณุงุฒ ุจุง Node.js:** ุงุฌุฑุง ุงุณฺฉุฑูพุชโูุง ูพุงุชูู ุจู ุตูุฑุช `child_process` ุงุฒ ุทุฑู ฺฉ ุณุฑูุณ ุงุฎุชุตุงุต.

## ๐๏ธ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

- **ูุญุท ุงุฌุฑุง:** Node.js
- **ูุฑูโูุฑฺฉ:** Express.js
- **ุฏุชุงุจุณ:** MongoDB ุจุง Mongoose ODM
- **ุงุญุฑุงุฒ ููุช:** JSON Web Tokens (`jsonwebtoken`), `cookie-parser`
- **ุงููุช:** `helmet`, `express-rate-limit`, `express-mongo-sanitize`, `cors`
- **ุงุนุชุจุงุฑุณูุฌ:** Joi
- **ูุฏุฑุช ูุงู:** Multer
- **ุชููุฏ Excel:** ExcelJS
- **ฺฉุงุฑ ุจุง ุชุงุฑุฎ:** Moment.js (Jalaali)
- **ุงุฏฺฏุฑ ูุงุดู:** Python, Scikit-learn, Pandas (ุงุฌุฑุง ุงุฒ ุทุฑู Node.js)
- **ูุงฺฏโฺฏุฑ:** Winston

## ๐ ุฑุงูโุงูุฏุงุฒ ู ูุตุจ (Setup)

ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุงู ูพุฑูฺู ุจู ุตูุฑุช ูุญูุ ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ:

1.  **ูพุดโูุงุฒูุง:**
    - Node.js (ูุณุฎู 16 ุง ุจุงูุงุชุฑ)
    - MongoDB (ูุตุจ ุดุฏู ุจู ุตูุฑุช ูุญู ุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุฑูุณ ุงุจุฑ ูุงููุฏ Atlas)
    - Python (ูุณุฎู 3.8 ุง ุจุงูุงุชุฑ)

2.  **ฺฉููู ฺฉุฑุฏู ุฑูพุงุฒุชูุฑ:**
    ```bash
    git clone https://github.com/your-username/attendance-system-backend.git
    cd attendance-system-backend
    ```

3.  **ูุตุจ ูุงุจุณุชฺฏโูุง Node.js:**
    ```bash
    npm install
    ```

4.  **ุงุฌุงุฏ ูุงู `.env`:**
    ฺฉ ูุงู ุจู ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒุฏ ู ูุญุชูุง ูุงู `.env.example` ุฑุง ุฏุฑ ุขู ฺฉูพ ฺฉูุฏ. ุณูพุณ ููุงุฏุฑ ุฑุง ุจุง ุงุทูุงุนุงุช ูุญู ุฎูุฏ (ูุงููุฏ `MONGODB_URI` ู `JWT_SECRET`) ูพุฑ ฺฉูุฏ.
    ```env
    PORT=5000
    MONGODB_URI=mongodb://localhost:27017/attendance_system
    JWT_SECRET=your_super_secret_jwt_key
    # ... and other variables
    ```

5.  **ุฑุงูโุงูุฏุงุฒ ุจุฎุด ูพุงุชูู (ุงุฏฺฏุฑ ูุงุดู):**
    ```bash
    # ุจู ูพูุดู ุงุณฺฉุฑูพุชโูุง ุจุฑูุฏ
    cd ml_scripts
    # ูุญุท ูุฌุงุฒ ุจุณุงุฒุฏ
    python -m venv venv
    # ูุญุท ุฑุง ูุนุงู ฺฉูุฏ
    # Windows: .\venv\Scripts\activate
    # macOS/Linux: source venv/bin/activate
    # ูุงุจุณุชฺฏโูุง ูพุงุชูู ุฑุง ูุตุจ ฺฉูุฏ
    pip install -r requirements.txt 
    # ูุฏูโูุง ุฑุง ุขููุฒุด ุฏูุฏ
    python train_clustering_model.py
    python train_anomaly_model.py
    # ุจู ุฑุดู ูพุฑูฺู ุจุฑฺฏุฑุฏุฏ
    cd ..
    ```
    *(**ูฺฉุชู:** ุจูุชุฑ ุงุณุช ฺฉ ูุงู `requirements.txt` ุจุฑุง ูพฺฉุฌโูุง ูพุงุชูู ุจุณุงุฒุฏ)*

6.  **ุงุฌุฑุง ุณุฑูุฑ:**
    ```bash
    # ุจุฑุง ุญุงูุช ุชูุณุนู ุจุง nodemon
    npm run dev
    # ุจุฑุง ุญุงูุช Production
    npm start
    ```
    ุณุฑูุฑ ุดูุง ุฑู ูพูุฑุช `5000` (ุง ูุฑ ูพูุฑุช ฺฉู ุฏุฑ `.env` ูุดุฎุต ฺฉุฑุฏูโุงุฏ) ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ.

---

**ูุดุงุฑฺฉุช (Contributing):**
ุฏุฑ ุญุงู ุญุงุถุฑุ ุงู ฺฉ ูพุฑูฺู ุดุฎุต ุงุณุชุ ุงูุง ุงฺฏุฑ ูพุดููุงุฏ ุจุฑุง ุจูุจูุฏ ุฏุงุฑุฏุ ูุทูุงู ฺฉ Issue ุจุงุฒ ฺฉูุฏ.

**ููุณูุฏู:** ุนูุฑุถุง ุขุจฺูุฑู || Alireza Waterface